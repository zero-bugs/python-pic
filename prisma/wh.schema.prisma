// database
//datasource db {
//  provider = "mongodb"
//  url      = "mongodb://root:changeit@localhost/whdb"
//}

datasource db {
  provider = "sqlite"
  url      = "file:../db/wh.db"
}

// generator
generator client {
  provider             = "prisma-client-py"
  interface            = "asyncio"
  recursive_type_depth = 5
}

// data models
model WhImage {
  id          String    @id
  views       String
  favorites   String
  source      String
  purity      String
  category    String
  dimension_x String
  dimension_y String
  resolution  String
  ratio       String
  file_size   String
  file_type   String
  created_at  String
  path        String
  tags        Tag[]
  uploader    Uploader? @relation(fields: [uploaderId], references: [id])
  uploaderId  Int?
}

model Tag {
  id          String   @id
  name        String
  alias       String?
  category_id String
  category    String
  purity      String
  created_at  String
  WhImage     WhImage? @relation(fields: [whImageId], references: [id])
  whImageId   String?
}

model Uploader {
  id       Int       @id @default(autoincrement())
  username String
  group    String
  WhImage  WhImage[]
}
